<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <title>neo4jd3.js</title>
        <link rel="stylesheet" href="./css/neo4jd3.css">
        <style>
            body,
            html,
            .neo4jd3 {
                height: 100%;
                overflow: hidden;
            }
        </style>
    </head>
    <body>
        <div id="neo4jd3"></div>

        <!-- Scripts -->
        <script src="https://d3js.org/d3.v4.min.js"></script>
        <script src="./js/neo4jd3.js"></script>
        <script>
            var data = {
                "results": [
                    {
                        "columns": ["user", "entity"],
                        "data": [
                            {
                                "graph": {
                                    "nodes": [
                                        {
                                            "id": "1",
                                            "labels": ["User"],
                                            "properties": {
                                                "userId": "eisman"
                                            }
                                        },
                                        {
                                            "id": "8",
                                            "labels": ["Project"],
                                            "properties": {
                                                "name": "neo4jd3",
                                                "title": "neo4jd3.js",
                                                "description": "Neo4j graph visualization using D3.js.",
                                                "url": "https://eisman.github.io/neo4jd3"
                                            }
                                        }
                                    ],
                                    "relationships": [
                                        {
                                            "id": "7",
                                            "type": "DEVELOPES",
                                            "startNode": "1",
                                            "endNode": "7",
                                            "properties": {
                                                "from": 1470002400000
                                            }
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                ],
                "errors": []
            }

            var neo4jd3 = new Neo4jd3('#neo4jd3', {
                highlight: [
                    {
                        class: 'Project',
                        property: 'name',
                        value: 'neo4jd3'
                    }, {
                        class: 'User',
                        property: 'userId',
                        value: 'eisman'
                    }
                ],
                icons: {
                    'Api': 'gear',
                    'BirthDate': 'birthday-cake',
                    'Cookie': 'paw',
                    'Email': 'at',
                    'Git': 'git',
                    'Github': 'github',
                    'Ip': 'map-marker',
                    'Issues': 'exclamation-circle',
                    'Language': 'language',
                    'Options': 'sliders',
                    'Password': 'asterisk',
                    'Phone': 'phone',
                    'Project': 'folder-open',
                    'SecurityChallengeAnswer': 'commenting',
                    'User': 'user',
                    'zoomFit': 'arrows-alt',
                    'zoomIn': 'search-plus',
                    'zoomOut': 'search-minus'
                },
                images: {
                    'Address': 'img/twemoji/1f3e0.svg',
                    'BirthDate': 'img/twemoji/1f5d3.svg',
                    'Cookie': 'img/twemoji/1f36a.svg',
                    'CreditCard': 'img/twemoji/1f4b3.svg',
                    'Device': 'img/twemoji/1f4bb.svg',
                    'Email': 'img/twemoji/2709.svg',
                    'Git': 'img/twemoji/1f5c3.svg',
                    'Github': 'img/twemoji/1f5c4.svg',
                    'icons': 'img/twemoji/1f38f.svg',
                    'Ip': 'img/twemoji/1f4cd.svg',
                    'Issues': 'img/twemoji/1f4a9.svg',
                    'Language': 'img/twemoji/1f1f1-1f1f7.svg',
                    'Options': 'img/twemoji/2699.svg',
                    'Password': 'img/twemoji/1f511.svg',
                    'Project|name|d3': 'img/twemoji/32-20e3.svg',
                    'Project|name|neo4j': 'img/twemoji/33-20e3.svg',
                    'Project|name|neo4jd3': 'img/twemoji/31-20e3.svg',
                    'User': 'img/twemoji/1f600.svg'
                },
                minCollision: 60,
                neo4jData: data,
                nodeRadius: 25,
                onNodeDoubleClick: function(node) {
                    switch(node.id) {
                        case '25':
                            // Google
                            window.open(node.properties.url, '_blank');
                            break;
                        default:
                            var maxNodes = 5,
                                data = neo4jd3.randomD3Data(node, maxNodes);
                            neo4jd3.updateWithD3Data(data);
                            break;
                    }
                },
                zoomFit: true
            });
        </script>
    </body>
</html>
