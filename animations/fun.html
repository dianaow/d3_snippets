<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="general.css" />
  </head>
  <body>
    <div id="body">

    <div class='box-wrapper'>
      <div class='box-group'>

        <div class='group'>
            <div class="trigger" id="trigger1">
              <img src="./images/poppingtree.png"></img>
            </div>
            <div class="modal">
              <div class="modal-content1">
                <span class="close-button">×</span>
              </div>
            </div>
 
            <div class="trigger" id="trigger2">
              <img src="./images/blobs.png"></img>
            </div>
            <div class="modal">
              <div id='panel'>
                <label>First, select chart type to transition from: </label>
                <div id="section">
                  <input name="start_type" 
                         type="button" 
                         class='btn run_cluster_sorted'
                         value="Cluster blob"/>
                  <input name="start_type" 
                         type="button" 
                         class="btn run_cluster_bubbles"
                         value="Cluster bubbles" />
                  <input name="start_type" 
                         type="button" 
                         class="btn run_align_X"
                         value="Align X" /><br>
                  <input name="start_type" 
                   type="button" 
                   class="btn run_add"
                   value="Add nodes" />
                  <input name="start_type" 
                         type="button" 
                         class="btn run_move"
                         value="Move nodes" /><br>
                  <input name="start_type" 
                         type="button" 
                         class='btn reset_button'
                         value="Reset to scatter"
                         checked />
                </div>
                <label>Next, select transition type: </label>
                <div id="section">
                  <input name="transition_type"
                         type="radio" 
                         value="transition_by_index"
                         > Index<br>
                  <input name="transition_type"
                         type="radio"
                         value="transition_by_length"
                         > Length<br>
                  <input name="transition_type"
                         type="radio" 
                         value="transition_by_default"
                         checked > Default<br>
                </div>
                <label>Finally, select transition parameters: </label>
                <div id='slider-step1'></div>
                <div id='slider-step2'></div>
                <div id="section">
                  <input name="submit" 
                         class="btn submit_button"
                         type="button" 
                         value="Morph to dot plot!"/>
                </div>
              </div>
              <div class="modal-content2" id="modal-fullscreen">
                  <span class="close-button">×</span>
              </div>
            </div>

            <div class="trigger" id="trigger3">
              <img src="./images/beeswarm.png"></img>
            </div>
            <div class="modal">
              <div class="modal-content3">
                  <span class="close-button">×</span>
              </div>
            </div>

        </div>

        <div class='group'>

            <div class="trigger" id="trigger4">
              <img src="./images/constellation.png"></img>
            </div>
            <div class="modal">
              <div class="modal-content4" id="modal-fullscreen">
                  <span class="close-button">×</span>
              </div>
            </div>

            <div class="trigger" id="trigger5">
              <img src="./images/merge.png"></img>
            </div>
            <div class="modal">
              <div class="modal-content5">       
                <span class="close-button">×</span>
              </div>
            </div>

            <div class="trigger" id="trigger6">
              <img src="./images/morph.png"></img>
            </div>
            <div class="modal">
              <div class="modal-content6">
                <div id="clickerWrapper">
                  <span class="close-button">×</span>
                  <div id="clicker">Morph!</div>
                </div>
              </div>
            </div>

        </div>

        <div class='group'>

            <div class="trigger" id="trigger7">
              <img src="./images/panama_network.png"></img>
            </div>
            <div class="modal">
              <div class="modal-content7" id="modal-fullscreen">
                <span class="close-button">×</span>
              </div>
            </div>

            <div class="trigger" id="trigger8">
              <img src="./images/coe_multipleline.png"></img>
            </div>
            <div class="modal">
              <div class="modal-content-coe">
                <div class='header'>
                  <h1>COE Prices from 2010-2018</h1>
                  <p>There are 2 COE Open Bidding exercises each month (Bidding Exercise 1 starts on the first Monday while Bidding Exercise 2 starts on the third Monday of the month)</p>
                </div>
                <span class="close-button">×</span>
              </div>
            </div>

        </div>

      </div>
    </div>
    </div>

    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script src="./js/popping_tree.js"></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/d3-color.v1.min.js"></script>
    <script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://d3js.org/d3-array.v2.min.js"></script>
    <script src="https://unpkg.com/d3-simple-slider"></script>
    <script src="./js/distribute_nodes.js"></script>
    <script src="./js/beeswarm.js"></script>
    <script src="./js/constellation/main.js"></script>
    <script src="./js/merge_svg.js"></script>
    <script src="./js/morph.js"></script>
    <script src="./js/panama/panama.js"></script>
    <script src="./js/coe.js"></script>

    <script>

      var btn = document.getElementsByClassName("trigger");
      
      for (var i = 0; i < btn.length; i++) {
        var thisBtn = btn[i];

        thisBtn.addEventListener("click", function(){

          var modal = this.nextElementSibling;
          modal.classList.add("show-modal");
          var closeButton = modal.querySelector(".close-button");
          var trigger = this.id

          if (trigger === "trigger1") {
            poppingtree.run()
            closeButton.addEventListener("click", function() {
              modal.classList.remove("show-modal") 
              poppingtree.clear()
            } );
          } else if (trigger === "trigger2") {
            setTimeout(distribute.run(), 1000)
            closeButton.addEventListener("click", function() { 
              modal.classList.remove("show-modal")
              distribute.clear() 
            } );
          } else if (trigger === "trigger3") {
            beeswarm.run()
            closeButton.addEventListener("click", function() { 
              modal.classList.remove("show-modal")
              beeswarm.clear() 
            } );
          } else if (trigger === "trigger4") {
            constellation.run()
            closeButton.addEventListener("click", function() { 
              modal.classList.remove("show-modal")
              constellation.clear() 
            } );
          } else if (trigger === "trigger5") {
            merge.run()
            closeButton.addEventListener("click", function() { 
              modal.classList.remove("show-modal")
              merge.clear() 
            } );
          } else if (trigger === "trigger6") {
            morph.run()
            closeButton.addEventListener("click", function() { 
              modal.classList.remove("show-modal")
              morph.clear() 
            } );
          } else if (trigger === "trigger7") {
            panama.run()
            closeButton.addEventListener("click", function() { 
              modal.classList.remove("show-modal")
              panama.clear() 
            } );
          } else if (trigger === "trigger8") {
            coe.run()
            closeButton.addEventListener("click", function() { 
              modal.classList.remove("show-modal")
              coe.clear() 
            } );
          }
        })
      }

    </script>
   </body>
</html>